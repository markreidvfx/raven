cmake_policy(SET CMP0072 NEW)
cmake_policy(SET CMP0076 NEW)

find_package(OpenGL REQUIRED)

add_library(IMGUI STATIC)

set_property(TARGET IMGUI PROPERTY CXX_STANDARD 11)

target_sources(IMGUI
  PRIVATE
    # core
    imgui_demo.cpp
    imgui_draw.cpp
    imgui_tables.cpp
    imgui_widgets.cpp
    imgui.cpp

    # add-ons
    imgui_plot.cpp
    ../libs/implot/implot.cpp
    ../libs/implot/implot_demo.cpp
    ../libs/implot/implot_items.cpp

    # backends
    imgui_impl_glfw.cpp
    imgui_impl_opengl3.cpp
)
target_include_directories(IMGUI
  SYSTEM PUBLIC .
  PUBLIC ../libs/gl3w
  PUBLIC ../libs/glfw/include/
  PUBLIC ../libs/implot/
)
target_link_libraries(IMGUI OpenGL::GL ${CMAKE_DL_LIBS})
target_compile_definitions(IMGUI PUBLIC -DIMGUI_IMPL_OPENGL_LOADER_GL3W)

